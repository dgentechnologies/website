
/**
 * @file Firestore Security Rules for the blogPosts collection.
 *
 * Core Philosophy:
 * This ruleset prioritizes ease of access for blog post reads and writes for prototyping.
 * It allows anonymous users to freely interact with blog posts while also enabling
 * server-side admin access for backend processes like AI flows.
 *
 * Data Structure:
 * Blog posts are stored in the top-level `/blogPosts/{postId}` collection.
 *
 * Key Security Decisions:
 * - Client-side access is fully open (create, read, update, delete) for any user,
 *   including anonymous ones, to facilitate rapid prototyping.
 * - Server-side access (via Admin SDK) is implicitly allowed and bypasses these
 *   client-facing rules, which is necessary for backend services.
 *
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows any user to create, read, update and delete blog posts.
     * @path /blogPosts/{postId}
     * @allow (create) - Any user can create a blog post.
     * @allow (get) - Any user can read a blog post.
     * @allow (update) - Any user can update a blog post.
     * @allow (delete) - Any user can delete a blog post.
     * @principle Allows any user to perform any operation on any blog post, enabling rapid prototyping.
     */
    match /blogPosts/{postId} {
      allow read, write: if true;
    }
  }
}
